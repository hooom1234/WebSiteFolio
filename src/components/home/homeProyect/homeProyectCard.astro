---
export interface Props {
  titulo: string;
  imagen: string;
  tecnologias: string[];
  demo: string;
  codigo: string;
}

const { titulo, imagen, tecnologias, demo, codigo } = Astro.props;
---

<article class="group relative w-full h-[380px] mx-auto overflow-hidden rounded-2xl bg-gray-900 shadow-xl ring-1 ring-white/10 isolate">
  
  <div class="absolute inset-0 z-0 transition-transform duration-500 ease-out group-hover:scale-110">
    <img
      src={imagen}
      alt={`Proyecto: ${titulo}`}
      class="h-full w-full object-cover"
      loading="lazy"
    />
  </div>

  <div class="absolute inset-0 z-10 bg-gradient-to-t from-gray-950 via-gray-950/60 to-transparent opacity-80 transition-opacity duration-300 group-hover:opacity-90"></div>

  <div class="absolute bottom-0 left-0 w-full z-20 p-6 flex flex-col justify-end h-full">
    
    <h3 class="text-2xl font-bold text-white mb-2 translate-y-4 transition-transform duration-300 group-hover:translate-y-0">
      {titulo}
    </h3>

    <div class="flex flex-wrap gap-2 mb-6 opacity-0 translate-y-4 transition-all duration-300 delay-75 group-hover:opacity-100 group-hover:translate-y-0">
      {
        tecnologias.slice(0, 4).map((tech) => (
          <span class="px-2.5 py-1 text-xs font-medium text-blue-200 bg-blue-500/20 backdrop-blur-md border border-blue-500/30 rounded-md">
            {tech}
          </span>
        ))
      }
      {tecnologias.length > 4 && (
        <span class="px-2.5 py-1 text-xs font-medium text-gray-400 bg-gray-800/50 backdrop-blur-md rounded-md">
          +{tecnologias.length - 4}
        </span>
      )}
    </div>

    <div class="grid grid-cols-2 gap-3 opacity-0 translate-y-4 transition-all duration-300 delay-150 group-hover:opacity-100 group-hover:translate-y-0">
      <a
        href={demo}
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold text-gray-900 bg-white rounded-lg hover:bg-gray-200 transition-colors"
      >
        <span>Preview</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </a>

      <a
        href={codigo}
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-white/20 transition-colors"
      >
        <span>Code</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      </a>
    </div>

  </div>

  <div class="absolute inset-0 border-2 border-transparent rounded-2xl bg-gradient-to-b from-white/10 to-transparent pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
</article>